{"ring_world_1":{"entity":"construction_platform_entity","construction_entity":"construction_platform_entity","portrait":"GFX_megastructure_construction_background","place_entity_on_planet_plane":false,"entity_offset":{"x":-7,"y":-7},"build_time":1800,"resources":{"category":"megastructures","cost":{"alloys":5000,"influence":300},"upkeep":{"energy":5}},"prerequisites":["tech_ring_world"],"possible":{"exists":"starbase","custom_tooltip":[{"fail_text":"requires_inside_border","is_inside_border":"from"},{"fail_text":"requires_surveyed_system","NOT":{"any_system_planet":{"is_surveyed":{"who":"prev.from","status":false}}}},{"fail_text":"requires_no_habitable_planets","NOT":{"any_system_planet":{"colonizable_planet":true}}},{"fail_text":"requires_no_black_hole","NOT":{"is_star_class":"sc_black_hole"}},{"fail_text":"requires_no_binary_trinary","NOR":{"is_star_class":["sc_binary_1","sc_binary_2","sc_binary_3","sc_binary_4","sc_binary_5","sc_binary_6","sc_binary_7","sc_binary_8","sc_binary_9","sc_binary_10","sc_trinary_1","sc_trinary_2","sc_trinary_3","sc_trinary_4"]}},{"fail_text":"requires_no_existing_megastructure","has_no_non_gate_megastructure":true}]},"placement_rules":{"planet_possible":{"custom_tooltip":[{"fail_text":"must_build_around_star","is_star":true},{"fail_text":"requires_no_anomaly","NOT":{"has_anomaly":true}},{"fail_text":"requires_planets_for_material","hidden:solar_system":{"any_system_planet":{"NOT":{"is_star":true}}}}]}},"ai_weight":{"factor":10,"modifier":[{"factor":0.1,"starbase":{"NOT":{"has_starbase_size":{"GREATER_THAN_EQUAL":"starbase_starfortress"}}}},{"factor":0.1,"any_neighbor_system":{"exists":"owner","NOT":{"owner":{"is_same_value":"from"}}}}]},"on_build_start":[],"on_build_cancel":[],"on_build_complete":{"set_star_flag":"ring_world_built"}},"ring_world_2_intermediate":{"entity":"","construction_entity":"ringworld_seam_entity_01_full_entity","portrait":"GFX_megastructure_construction_background","build_time":4800,"resources":{"category":"megastructures","cost":{"alloys":10000}},"upgrade_from":["ring_world_1"],"prerequisites":["tech_ring_world"],"on_build_start":[],"on_build_cancel":[],"on_build_complete":{"every_system_planet":{"limit":{"is_star":false},"remove_planet":true},"set_asteroid_belt":{"radius":0},"remove_megastructure":"fromfrom","spawn_megastructure":[{"name":"NAME_Ring_Section_A","type":"ring_world_2","orbit_angle":0,"orbit_distance":45,"owner":"from","graphical_culture":"fromfrom","planet":"star"},{"name":"NAME_Ring_Section_B","type":"ring_world_2","orbit_angle":90,"orbit_distance":45,"owner":"from","graphical_culture":"fromfrom","planet":"star"},{"name":"NAME_Ring_Section_C","type":"ring_world_2","orbit_angle":180,"orbit_distance":45,"owner":"from","graphical_culture":"fromfrom","planet":"star"},{"name":"NAME_Ring_Section_D","type":"ring_world_2","orbit_angle":270,"orbit_distance":45,"owner":"from","graphical_culture":"fromfrom","planet":"star"}]}},"ring_world_2":{"entity":"ringworld_3x_seams_entity","portrait":"GFX_megastructure_construction_background","upgrade_from":["ring_world_2_intermediate"],"upgrade_desc":"hide","potential":{"always":false}},"ring_world_3_intermediate":{"entity":"","construction_entity":"ringworld_phase_3_construction_entity","portrait":"GFX_megastructure_construction_background","build_time":3600,"resources":{"category":"megastructures","cost":{"alloys":10000}},"upgrade_from":["ring_world_2"],"prerequisites":["tech_ring_world"],"show_prereqs":true,"prereq_name":"RING_WORLD_SHOW_NAME","on_build_complete":{"from":{"set_country_flag":"has_built_or_repaired_megastructure"},"spawn_planet":[{"class":"pc_ringworld_tech","location":"fromfrom","orbit_angle_offset":30,"init_effect":{"set_name":"NAME_Ring_Section","set_planet_entity":{"entity":"ringworld_tech_entity_01_entity","graphical_culture":"fromfrom"},"set_surveyed":{"surveyed":true,"surveyor":"FROM"},"set_all_comms_surveyed":true,"set_planet_flag":"megastructure"}},{"class":"pc_ringworld_seam","location":"fromfrom","init_effect":{"set_name":"NAME_Ring_Section","set_planet_entity":{"entity":"ringworld_seam_entity_01_entity","graphical_culture":"fromfrom"},"set_surveyed":{"surveyed":true,"surveyor":"FROM"},"set_all_comms_surveyed":true,"set_planet_flag":"megastructure"}},{"class":"pc_ringworld_habitable","location":"fromfrom","orbit_angle_offset":-30,"init_effect":{"set_name":"NAME_Habitable_Section_A","set_planet_entity":{"entity":"ringworld_habitable_entity_01_entity","graphical_culture":"fromfrom"},"set_surveyed":{"surveyed":true,"surveyor":"FROM"},"set_all_comms_surveyed":true,"clear_blockers":true,"save_event_target_as":"ring_section","trigger_megastructure_icon":true,"set_planet_flag":"megastructure"}}],"fromfrom.planet":{"set_planet_flag":"has_megastructure"},"remove_megastructure":"fromfrom","if":[{"limit":{"NOT":{"has_star_flag":"ring_section_1"}},"set_star_flag":"ring_section_1","event_target:ring_section":{"set_name":"NAME_Habitable_Section_A"},"break":true},{"limit":{"has_star_flag":"ring_section_1","NOT":{"has_star_flag":"ring_section_2"}},"set_star_flag":"ring_section_2","event_target:ring_section":{"set_name":"NAME_Habitable_Section_B"},"break":true},{"limit":{"has_star_flag":"ring_section_2","NOT":{"has_star_flag":"ring_section_3"}},"set_star_flag":"ring_section_3","event_target:ring_section":{"set_name":"NAME_Habitable_Section_C"},"break":true},{"limit":{"has_star_flag":"ring_section_3"},"remove_star_flag":["ring_section_1","ring_section_2","ring_section_3"],"event_target:ring_section":{"set_name":"NAME_Habitable_Section_D"},"break":true}]}},"ring_world_ruined":{"entity":"ringworld_destroyed_entity","portrait":"GFX_megastructure_construction_background","potential":{"always":false}},"ring_world_restored":{"entity":"","construction_entity":"ringworld_phase_3_construction_entity","portrait":"GFX_megastructure_construction_background","build_time":3600,"resources":{"category":"megastructures","cost":{"alloys":10000}},"upgrade_from":["ring_world_ruined"],"possible":{"from":{"has_technology":"tech_mega_engineering"},"custom_tooltip":{"fail_text":"requires_surveyed_system","NOT":{"any_system_planet":{"is_surveyed":{"who":"prev.from","status":false}}}}},"ai_weight":{"weight":300,"modifier":{"weight":0,"from":{"is_country_type":"fallen_empire"}}},"on_build_start":{"fromfrom":{"set_graphical_culture":"root.from"}},"on_build_complete":{"every_system_ambient_object":{"limit":{"OR":{"is_ambient_object_type":["large_debris_object","medium_debris_01_object","medium_debris_02_object","small_debris_object"]}},"destroy_ambient_object":"this"},"spawn_planet":[{"class":"pc_ringworld_tech","location":"fromfrom","orbit_angle_offset":30,"init_effect":{"set_name":"NAME_Ring_Section","set_planet_entity":{"entity":"ringworld_tech_entity_01_entity","graphical_culture":"fromfrom"},"set_surveyed":{"surveyed":true,"surveyor":"FROM"},"set_all_comms_surveyed":true,"set_planet_flag":"megastructure"}},{"class":"pc_ringworld_seam","location":"fromfrom","init_effect":{"set_name":"NAME_Ring_Section","set_planet_entity":{"entity":"ringworld_seam_entity_01_entity","graphical_culture":"fromfrom"},"set_surveyed":{"surveyed":true,"surveyor":"FROM"},"set_all_comms_surveyed":true,"set_planet_flag":"megastructure"}},{"class":"pc_ringworld_habitable","location":"fromfrom","orbit_angle_offset":-30,"init_effect":{"set_name":"NAME_Habitable_Section_A","set_planet_entity":{"entity":"ringworld_habitable_entity_01_entity","graphical_culture":"fromfrom"},"set_surveyed":{"surveyed":true,"surveyor":"FROM"},"set_all_comms_surveyed":true,"clear_blockers":true,"save_event_target_as":"ring_section","trigger_megastructure_icon":true,"set_planet_flag":"megastructure"}}],"remove_megastructure":"fromfrom","from":{"set_country_flag":"has_built_or_repaired_megastructure","country_event":{"id":"utopia.2017"}},"if":[{"limit":{"NOT":{"has_star_flag":"ring_section_1"}},"set_star_flag":"ring_section_1","event_target:ring_section":{"set_name":"NAME_Habitable_Section_A"},"break":true},{"limit":{"has_star_flag":"ring_section_1","NOT":{"has_star_flag":"ring_section_2"}},"set_star_flag":"ring_section_2","event_target:ring_section":{"set_name":"NAME_Habitable_Section_B"},"break":true},{"limit":{"has_star_flag":"ring_section_2","NOT":{"has_star_flag":"ring_section_3"}},"set_star_flag":"ring_section_3","event_target:ring_section":{"set_name":"NAME_Habitable_Section_C"},"break":true},{"limit":{"has_star_flag":"ring_section_3"},"remove_star_flag":["ring_section_1","ring_section_2","ring_section_3"],"event_target:ring_section":{"set_name":"NAME_Habitable_Section_D"},"break":true}]}}}